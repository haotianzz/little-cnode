(function(){var t={6700:function(t,e,s){var n={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":1886,"./dv.js":1886,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":2123,"./he.js":2123,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":7678,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":7678,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function r(t){var e=o(t);return s(e)}function o(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=6700},9393:function(t,e,s){"use strict";var n=s(8935),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-view")],1)},o=[],a={created(){this.$store.dispatch("getUserInfo")}},l=a,i=s(1001),c=(0,i.Z)(l,r,o,!1,null,null,null),u=c.exports,p=s(7349),d=s.n(p),f=s(7839),m=s.n(f),h=s(5423),v=s.n(h),j=s(2711),g=s.n(j),_=s(7227),y=s.n(_),k=s(5263),b=s.n(k),w=s(1192),x=s.n(w);n["default"].use(x()),n["default"].use(b()),n["default"].use(y()),n["default"].use(g()),n["default"].use(v()),n["default"].use(m()),n["default"].prototype.$message=d();var I=s(2809),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("PanelContainer",{scopedSlots:t._u([{key:"head",fn:function(){return[s("div",{staticClass:"nav"},[s("router-link",{class:{"router-link-active":"/"===t.$route.path},attrs:{to:"/all"}},[t._v("全部")]),s("router-link",{attrs:{to:"/good"}},[t._v("精华")]),s("router-link",{attrs:{to:"/share"}},[t._v("分享")]),s("router-link",{attrs:{to:"/ask"}},[t._v("问答")]),s("router-link",{attrs:{to:"/job"}},[t._v("招聘")]),s("router-link",{attrs:{to:"/dev"}},[t._v("客户端测试")])],1)]},proxy:!0},{key:"content",fn:function(){return[s("router-view")]},proxy:!0}])})],1)},$=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel",style:"width: "+t.currentWidth},[t.$slots.head?s("div",{staticClass:"panel-head"},[t._t("head")],2):t._e(),s("div",{staticClass:"panel-content"},[t._t("content")],2)])},T=[],O={props:["width"],computed:{currentWidth(){const{width:t}=this;return 1*t?t+"px":t}}},P=O,E=(0,i.Z)(P,z,T,!1,null,null,null),S=E.exports,Z={components:{PanelContainer:S}},U=Z,L=(0,i.Z)(U,C,$,!1,null,"6f074226",null),M=L.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("el-form",{ref:"ruleForm",attrs:{model:t.userInfo,"status-icon":"","label-width":"80px",rules:t.rules}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{type:"text",placeholder:"请输入用户名(任意值都行)",autocomplete:"off"},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username","string"===typeof e?e.trim():e)},expression:"userInfo.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码(用户token)",autocomplete:"off"},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password","string"===typeof e?e.trim():e)},expression:"userInfo.password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")]),s("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)},R=[],V=(s(1703),s(6166)),N=s.n(V);const q=N().create({baseURL:"https://cnodejs.org/api/v1",timeout:3e3,headers:{get:{},post:{}}});q.interceptors.request.use((t=>t)),q.interceptors.response.use((t=>t.data));var D=q;const H=({params:t})=>D({method:"get",params:t,url:"/topics"}),J=t=>D({url:"/topic/"+t.id,method:"get",params:t}),W=t=>D({url:"/accesstoken",method:"post",data:t}),B=t=>D({url:"/topic_collect/collect",method:"post",data:t}),A=t=>D({url:"/topic_collect/de_collect",method:"post",data:t}),G=({reply_id:t,accesstoken:e})=>D({url:`/reply/${t}/ups`,method:"post",data:{accesstoken:e}}),K=({id:t,accesstoken:e,content:s})=>D({url:`/topic/${t}/replies`,method:"post",data:{accesstoken:e,content:s}}),Q=({loginname:t})=>D({url:`/user/${t}`,method:"get"});var X={data(){return{userInfo:{username:"admin",password:"7de298fc-2bae-4afb-b20b-ca85130e4159"},rules:{username:[{validator(t,e,s){""===e?s(new Error("请输入用户名")):s()},message:"请输入用户名",trigger:"blur"}],password:[{validator(t,e,s){""===e?s(new Error("请输入用户名")):s()},message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm(t){this.$refs[t].validate((t=>{t&&W({accesstoken:this.userInfo.password}).then((t=>{this.$message({message:"登录成功",type:"success",duration:1e3});const e={loginame:t.loginname,avatar_url:t.avatar_url,id:t.id};localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("accesstoken",this.userInfo.password),this.$store.commit("getUserInfo",e),this.$router.push("/")})).catch((()=>{this.$message({message:"密码有误(token有误)",type:"error",duration:1e3})}))}))},resetForm(t){this.$refs[t].resetFields()}}},Y=X,tt=(0,i.Z)(Y,F,R,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("HeaderNav"),s("div",{staticClass:"content"},[s("router-view")],1),s("FooterInfo")],1)},nt=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer")},ot=[],at={},lt=at,it=(0,i.Z)(lt,rt,ot,!1,null,"4e9e6cb8",null),ct=it.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-nav"},[s("div",{staticClass:"container"},[s("router-link",{attrs:{to:"/"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 427.3 100.4","xml:space":"preserve",width:"100"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#fff",d:"M127.987 52.994c0-1.084-.57-2.08-1.506-2.617l-24.937-14.352a2.934 2.934 0 0 0-1.373-.396h-.258a2.973 2.973 0 0 0-1.377.396L73.598 50.377a3.023 3.023 0 0 0-1.508 2.617l.055 38.644c0 .538.279 1.038.752 1.301a1.446 1.446 0 0 0 1.496 0l14.821-8.485a3.036 3.036 0 0 0 1.507-2.613V63.784a3 3 0 0 1 1.504-2.606l6.311-3.636a3 3 0 0 1 3.008 0l6.308 3.636a3 3 0 0 1 1.506 2.606V81.84c0 1.074.578 2.062 1.51 2.613l14.816 8.485a1.464 1.464 0 0 0 1.506 0c.459-.263.748-.763.748-1.301l.049-38.643zM261.147-.129a1.508 1.508 0 0 0-2.241 1.315v38.271c0 .376-.201.724-.525.913a1.06 1.06 0 0 1-1.056 0l-6.246-3.599a3.013 3.013 0 0 0-3.01.001L223.122 51.17a3.007 3.007 0 0 0-1.506 2.607v28.801c0 1.076.573 2.07 1.505 2.609l24.946 14.408a3.011 3.011 0 0 0 3.014 0l24.95-14.408a3.012 3.012 0 0 0 1.506-2.609V10.786a3.013 3.013 0 0 0-1.545-2.631L261.147-.129zm-2.314 73.244c0 .27-.145.519-.378.651l-8.564 4.938a.749.749 0 0 1-.752 0l-8.566-4.938a.752.752 0 0 1-.377-.651v-9.891c0-.269.145-.517.376-.651l8.566-4.947a.752.752 0 0 1 .754 0l8.564 4.947a.756.756 0 0 1 .377.651v9.891zM350.4 62.966a3.011 3.011 0 0 0 1.499-2.604v-6.979a3.012 3.012 0 0 0-1.5-2.605l-24.787-14.392a3.015 3.015 0 0 0-3.02-.004l-24.938 14.397a3.012 3.012 0 0 0-1.506 2.609v28.793c0 1.083.58 2.081 1.521 2.616l24.783 14.122a3.015 3.015 0 0 0 2.954.018l14.989-8.332c.477-.266.772-.765.774-1.308a1.503 1.503 0 0 0-.755-1.315L315.32 73.576a1.503 1.503 0 0 1-.758-1.306v-9.024c0-.538.287-1.036.755-1.304l7.811-4.504a1.505 1.505 0 0 1 1.503 0l7.815 4.504c.467.268.754.766.754 1.304v7.101a1.507 1.507 0 0 0 2.263 1.303l14.937-8.684z"}}),s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#80bd01",d:"M173.35 36.23a3.012 3.012 0 0 1 3.012 0l24.943 14.395a3.008 3.008 0 0 1 1.508 2.609v28.811a3.014 3.014 0 0 1-1.506 2.61L176.363 99.06a3.016 3.016 0 0 1-3.014 0l-24.938-14.405a3.014 3.014 0 0 1-1.506-2.61V53.233c0-1.076.574-2.071 1.507-2.608L173.35 36.23z"}}),s("path",{attrs:{fill:"#80bd01",d:"M398.833 99.472a4.941 4.941 0 0 1-2.468-.66l-7.853-4.646c-1.172-.656-.601-.888-.213-1.023 1.563-.543 1.881-.668 3.551-1.614.173-.099.404-.062.584.045l6.033 3.582a.775.775 0 0 0 .728 0l23.522-13.577a.739.739 0 0 0 .358-.636V53.796a.757.757 0 0 0-.364-.647l-23.513-13.565a.736.736 0 0 0-.724 0L374.97 53.152a.754.754 0 0 0-.373.644v27.146c0 .26.144.506.371.629l6.442 3.722c3.496 1.748 5.638-.31 5.638-2.379v-26.8c0-.379.305-.678.683-.678h2.983a.68.68 0 0 1 .682.678v26.8c0 4.666-2.541 7.342-6.965 7.342-1.36 0-2.43 0-5.418-1.472l-6.168-3.551a4.97 4.97 0 0 1-2.467-4.291V53.796c0-1.763.942-3.41 2.467-4.287l23.521-13.592c1.489-.841 3.468-.841 4.944 0l23.519 13.592a4.967 4.967 0 0 1 2.472 4.287v27.146a4.979 4.979 0 0 1-2.472 4.291L401.31 98.812a4.944 4.944 0 0 1-2.477.66"}}),s("path",{attrs:{fill:"#80bd01",d:"M406.099 80.771c-10.294 0-12.449-4.725-12.449-8.687 0-.377.303-.678.68-.678h3.041a.68.68 0 0 1 .675.575c.459 3.097 1.828 4.658 8.054 4.658 4.954 0 7.064-1.121 7.064-3.75 0-1.515-.598-2.64-8.299-3.394-6.437-.638-10.416-2.06-10.416-7.208 0-4.745 4-7.576 10.707-7.576 7.535 0 11.263 2.615 11.736 8.227a.688.688 0 0 1-.181.523.692.692 0 0 1-.498.217h-3.052a.679.679 0 0 1-.661-.531c-.731-3.258-2.513-4.299-7.345-4.299-5.41 0-6.039 1.885-6.039 3.297 0 1.711.742 2.209 8.047 3.176 7.229.955 10.662 2.309 10.662 7.39 0 5.125-4.274 8.06-11.726 8.06"}}),s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#80bd01",d:"M323.735 61.618a.573.573 0 0 1 .577 0l4.787 2.762c.18.103.289.294.289.5v5.527a.577.577 0 0 1-.289.501l-4.787 2.763a.577.577 0 0 1-.577 0l-4.783-2.763a.577.577 0 0 1-.289-.501V64.88c0-.206.109-.397.289-.5l4.783-2.762z"}}),s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#fff",d:"M36.28 61.87c1.098.65 1.358.255 1.742.035.385-.221 14.695-8.411 15.606-8.857.912-.446 1.315-1.915.114-2.61-1.201-.697-25.41-14.721-24.241-14.12 1.259.646-1.202-.829-2.626-.175-1.425.654-23.231 13.192-24.777 14.075-1.545.883-2.032 1.731-2.027 2.907.004 1.176-.078 27.253 0 28.801.078 1.548.69 2.052 1.506 2.609.816.558 22.901 13.505 24.572 14.41 1.671.907 2.768.597 3.853-.04 1.085-.639 22.727-13.003 23.593-13.554.866-.551 1.653-1.969-.157-2.992-1.811-1.022-14.779-8.693-15.279-8.943s-.796-.255-1.52.151c-.724.408-7.222 4.062-8.013 4.524s-.904.254-1.283.033c-.378-.222-7.085-4.135-7.859-4.571s-.866-.656-.868-1.25c-.001-.593-.018-8.121.023-8.998.04-.877.165-1.074.962-1.548.797-.474 6.695-3.978 7.166-4.293.47-.315 1.459-.345 2.231.108.772.452 6.184 3.647 7.282 4.298"}})])]),s("div",{staticClass:"nav-right"},[s("router-link",{attrs:{to:"/"}},[t._v("首页")]),s("router-link",{attrs:{to:"/"}},[t._v("未读消息")]),t.userInfo?[s("router-link",{attrs:{to:"/user/"+t.userInfo.loginame}},[s("el-avatar",{attrs:{shape:"square",size:40,src:t.userInfo.avatar_url}})],1),s("el-button",{attrs:{type:"text"},on:{click:t.logout}},[t._v("退出")])]:s("router-link",{attrs:{to:"/login"}},[t._v("登录")])],2)],1)])},pt=[],dt=s(4665),ft={computed:{...(0,dt.rn)(["userInfo"])},methods:{...(0,dt.OI)(["getUserInfo"]),logout(){this.getUserInfo(null),localStorage.removeItem("userInfo"),localStorage.removeItem("accesstoken"),"/"!==this.$route.path&&this.$router.push("/")}}},mt=ft,ht=(0,i.Z)(mt,ut,pt,!1,null,null,null),vt=ht.exports,jt={components:{HeaderNav:vt,FooterInfo:ct}},gt=jt,_t=(0,i.Z)(gt,st,nt,!1,null,"25e47d83",null),yt=_t.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.topics.length?s("div",[s("div",{staticClass:"list"},t._l(t.topics,(function(t){return s("TopicsItem",{key:t.id,attrs:{topic:t}})})),1),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":20,"current-page":t.currentPage},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1):t._e()},bt=[],wt=(s(6699),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topics-item"},[s("img",{attrs:{src:t.topic.author.avatar_url,alt:"",width:"40",height:"40"}}),s("span",{staticClass:"count"},[s("span",[t._v(t._s(t.topic.reply_count)+" ")]),s("span",[t._v("/")]),t._v(" "),s("span",[t._v(t._s(t.topic.visit_count))])]),s("span",{staticClass:"tab"},[t._v(t._s(t.topic.tab))]),s("h4",[s("router-link",{attrs:{to:"/topic/"+t.topic.id}},[t._v(t._s(t.topic.title))])],1),s("span",{staticClass:"time"},[t._v(t._s(t._f("moment")(t.topic.last_reply_at,"from")))])])}),xt=[],It={props:["topic"]},Ct=It,$t=(0,i.Z)(Ct,wt,xt,!1,null,"6901e93c",null),zt=$t.exports,Tt={components:{TopicsItem:zt},props:["tab"],data(){return{topics:[],total:0,currentPage:1}},watch:{tab:{async handler(t){t&&!["all","share","ask","job","dev","good"].includes(t)&&this.$router.push("/notfound");const e=await H({params:{tab:t,page:1,limit:20}});this.topics=e.data;const s=[423,720,280,200,120,640];let n=0;"good"===t?n=1:"share"===t?n=2:"ask"===t?n=3:"job"===t?n=4:"dev"===t&&(n=5),this.total=s[n],this.currentPage=1},immediate:!0}},methods:{async currentChange(t){const e=await H({params:{tab:this.tab,page:t,limit:20}});this.topics=e.data}}},Ot=Tt,Pt=(0,i.Z)(Ot,kt,bt,!1,null,"91b81344",null),Et=Pt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.topic?s("div",{staticClass:"topic"},[s("PanelContainer",{scopedSlots:t._u([{key:"content",fn:function(){return[s("div",{staticClass:"topic-content"},[s("div",{staticClass:"topic-head"},[s("h2",[t._v(t._s(t.topic.title))]),s("p",[s("span",[t._v(t._s(t.topic.author.loginname))]),t.userInfo?[t.topic.is_collect?t._e():s("el-button",{attrs:{type:"success"},on:{click:t.collect}},[t._v("收藏")]),t.topic.is_collect?s("el-button",{attrs:{type:"default"},on:{click:t.deCollect}},[t._v("取消收藏")]):t._e()]:t._e()],2)]),s("hr"),s("div",{staticClass:"topic-html",domProps:{innerHTML:t._s(t.topic.content)}})])]},proxy:!0}],null,!1,1827816589)}),t.topic.reply_count?s("PanelContainer",{scopedSlots:t._u([{key:"head",fn:function(){return[t._v(t._s(t.topic.reply_count)+" 回复")]},proxy:!0},{key:"content",fn:function(){return t._l(t.topic.replies,(function(e,n){return s("RepliesItem",{key:e.id,attrs:{index:n,reply:e,mostReplyUpsId:t.mostReplyUpsId,userInfo:t.userInfo},on:{getTopic:t.getTopic}})}))},proxy:!0}],null,!1,1755579716)}):t._e(),t.userInfo?s("PanelContainer",{scopedSlots:t._u([{key:"head",fn:function(){return[t._v(" 添加回复")]},proxy:!0},{key:"content",fn:function(){return[s("el-input",{attrs:{type:"textarea"},model:{value:t.replyText,callback:function(e){t.replyText="string"===typeof e?e.trim():e},expression:"replyText"}}),s("el-button",{on:{click:t.addReply}},[t._v("提交")])]},proxy:!0}],null,!1,2027133615)}):t._e()],1):t._e()},Zt=[],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["reply",{active:t.mostReplyUpsId===t.reply.id}]},[s("router-link",{attrs:{to:"/user/"+t.reply.author.loginname}},[s("el-avatar",{attrs:{shape:"square",size:30,src:t.reply.author.avatar_url}})],1),s("div",{staticClass:"reply-info"},[s("div",[s("span",[t._v(t._s(t.reply.author.loginname))]),t._v(" "),s("span",[t._v(t._s(t.index+1)+"楼 "),s("span",[t._v("·")]),t._v(" "+t._s(t.reply.create_at)+" ")])]),s("p",{domProps:{innerHTML:t._s(t.reply.content)}})]),s("div",{staticClass:"operation"},[s("span",{on:{click:t.handleLike}},[s("span",{class:{"is-uped":t.reply.is_uped}},[t._v("赞")]),t._v(" "+t._s(t.reply.ups.length))]),t.userInfo?s("span",[t._v("回")]):t._e()])],1)},Lt=[],Mt={props:["reply","index","mostReplyUpsId","userInfo"],methods:{async handleLike(){const t=localStorage.getItem("accesstoken");if(t){const e=await G({reply_id:this.reply.id,accesstoken:t});console.log(e),this.$emit("getTopic")}else this.$message({message:"请登录"})}}},Ft=Mt,Rt=(0,i.Z)(Ft,Ut,Lt,!1,null,"2986114f",null),Vt=Rt.exports,Nt={components:{PanelContainer:S,RepliesItem:Vt},props:["id"],data(){return{topic:null,replyText:""}},computed:{mostReplyUpsId(){let t="",e=0;return this.topic.replies.forEach((s=>{s.ups.length>e&&(t=s.id,e=s.ups.length)})),t},...(0,dt.rn)(["userInfo"]),accesstoken(){const t=localStorage.getItem("accesstoken");return t||""}},async created(){this.getTopic()},methods:{async collect(){const{topic:t,accesstoken:e}=this;await B({topic_id:t.id,accesstoken:e}),this.topic.is_collect=!0},async deCollect(){const{topic:t,accesstoken:e}=this;await A({topic_id:t.id,accesstoken:e}),this.topic.is_collect=!1},async getTopic(){let t={id:this.id};this.accesstoken&&(t.accesstoken=this.accesstoken);const e=await J(t);this.topic=e.data},async addReply(){const{replyText:t}=this;t&&(await K({accesstoken:this.accesstoken,content:t,id:this.topic.id}),this.replyText="",this.getTopic())}}},qt=Nt,Dt=(0,i.Z)(qt,St,Zt,!1,null,"ee1b583c",null),Ht=Dt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" 用户个人中心 ")])},Wt=[],Bt={props:["loginname"],watch:{loginname:{async handler(t){const e=await Q({loginname:t});this.userDetail=e.data},immediate:!0}},data(){return{userDetail:null}}},At=Bt,Gt=(0,i.Z)(At,Jt,Wt,!1,null,null,null),Kt=Gt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" 404 notfound ")])},Xt=[],Yt={},te=Yt,ee=(0,i.Z)(te,Qt,Xt,!1,null,null,null),se=ee.exports;n["default"].use(I.Z);const ne=[{path:"/login",name:"login",component:et},{path:"/",component:yt,children:[{path:"/notfound",component:se},{path:"",component:M,children:[{path:"",name:"home",component:Et},{path:":tab",name:"topics",props:!0,component:Et}]},{path:"/topic/:id",props:!0,name:"topic",component:Ht},{path:"/user/:loginname",props:!0,name:"user",component:Kt}]}],re=new I.Z({mode:"hash",routes:ne});var oe=re;n["default"].use(dt.ZP);const ae=new dt.ZP.Store({state:{userInfo:null},mutations:{getUserInfo(t,e){t.userInfo=e}},actions:{getUserInfo({commit:t}){const e=localStorage.getItem("userInfo");e&&t("getUserInfo",JSON.parse(e))}}});var le=ae;n["default"].filter("getTopicTagText",(function(t){if(!t)return"";const{good:e,tab:s,top:n}=t;return n?"置顶":e?"精华":"share"===s?"分享":"ask"===s?"问答":"job"===s?"招聘":"测试"}));var ie=s(7133),ce=s.n(ie),ue=(s(4017),s(2664)),pe=s.n(ue);n["default"].config.productionTip=!1,n["default"].use(pe(),{moment:ce()}),new n["default"]({render:t=>t(u),router:oe,store:le}).$mount("#app")}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=t,function(){var t=[];s.O=function(e,n,r,o){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],o=t[u][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](n[i])}))?n.splice(i--,1):(l=!1,o<a&&(a=o));if(l){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,a=n[0],l=n[1],i=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var u=i(s)}for(e&&e(n);c<a.length;c++)o=a[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},n=self["webpackChunkvue_littele_cnode"]=self["webpackChunkvue_littele_cnode"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(9393)}));n=s.O(n)})();
//# sourceMappingURL=app.bf5bc62e.js.map